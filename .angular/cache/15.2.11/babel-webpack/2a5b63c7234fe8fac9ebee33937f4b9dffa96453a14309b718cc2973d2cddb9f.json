{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../shared/add-edit-modal/add-edit-todo/add-edit-todo.component\";\nfunction TodoItemComponent_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"i\", 17);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"title\", \"Completed on \", i0.ɵɵpipeBind2(2, 1, ctx_r0.todoItem.completedOn, \"MMM d, y\"), \"\");\n  }\n}\nfunction TodoItemComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"i\", 18);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction TodoItemComponent_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TodoItemComponent_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      const _r6 = i0.ɵɵreference(22);\n      return i0.ɵɵresetView(ctx_r10.openCompleteTodoModal(_r6, ctx_r10.todoItem));\n    });\n    i0.ɵɵelement(1, \"i\", 19);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoItemComponent_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TodoItemComponent_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      const _r8 = i0.ɵɵreference(24);\n      return i0.ɵɵresetView(ctx_r12.openResetCompleteTodoModal(_r8, ctx_r12.todoItem));\n    });\n    i0.ɵɵelement(1, \"i\", 20);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoItemComponent_ng_template_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"h4\", 22);\n    i0.ɵɵtext(2, \"Remove Todo item\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 23)(4, \"p\");\n    i0.ɵɵtext(5, \"Are you sure, you want to remove this item?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 24)(7, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function TodoItemComponent_ng_template_19_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const c_r14 = restoredCtx.close;\n      return i0.ɵɵresetView(c_r14(\"Remove click\"));\n    });\n    i0.ɵɵtext(8, \"Apply\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function TodoItemComponent_ng_template_19_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const d_r15 = restoredCtx.dismiss;\n      return i0.ɵɵresetView(d_r15(\"Cancel remove click\"));\n    });\n    i0.ɵɵtext(10, \"Cancel\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TodoItemComponent_ng_template_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"h4\", 22);\n    i0.ɵɵtext(2, \"Complete Todo item\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 23)(4, \"p\");\n    i0.ɵɵtext(5, \"Are you sure, you want to complete this item?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 24)(7, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function TodoItemComponent_ng_template_21_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const c_r19 = restoredCtx.close;\n      return i0.ɵɵresetView(c_r19(\"Complete click\"));\n    });\n    i0.ɵɵtext(8, \"Apply\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function TodoItemComponent_ng_template_21_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const d_r20 = restoredCtx.dismiss;\n      return i0.ɵɵresetView(d_r20(\"Cancel remove click\"));\n    });\n    i0.ɵɵtext(10, \"Cancel\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TodoItemComponent_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"h4\", 22);\n    i0.ɵɵtext(2, \"Reset Todo item\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 23)(4, \"p\");\n    i0.ɵɵtext(5, \"Are you sure, you want to reset the complete state?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 24)(7, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function TodoItemComponent_ng_template_23_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const c_r24 = restoredCtx.close;\n      return i0.ɵɵresetView(c_r24(\"Complete click\"));\n    });\n    i0.ɵɵtext(8, \"Apply\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function TodoItemComponent_ng_template_23_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const d_r25 = restoredCtx.dismiss;\n      return i0.ɵɵresetView(d_r25(\"Cancel remove click\"));\n    });\n    i0.ɵɵtext(10, \"Cancel\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"completed\": a0\n  };\n};\nexport let TodoItemComponent = /*#__PURE__*/(() => {\n  class TodoItemComponent {\n    constructor(_modalService) {\n      this._modalService = _modalService;\n      this.deleteTodoItem = new EventEmitter();\n      this.editTodoItem = new EventEmitter();\n      this.openAddEditModal = new Subject();\n    }\n    ngOnInit() {}\n    isCategorySelected(todoCategory) {\n      return todoCategory && todoCategory === this.editSelectedTodo.category; // checks if the current category is selected\n    }\n\n    openDeleteTodoModal(content, todoId) {\n      this._modalService.open(content, {\n        ariaLabelledBy: 'modal-basic-title'\n      }).result.then(\n      // open confirmation for \"delete\" todo\n      () => this.deleteTodoItem.next(todoId) // calling the callback which actually should perform the removal\n      );\n    }\n\n    openCompleteTodoModal(content, todoItem) {\n      this._modalService.open(content, {\n        ariaLabelledBy: 'modal-basic-title'\n      }).result.then(() => {\n        let updatedTodoItem = JSON.parse(JSON.stringify(todoItem)); // creating the deep copy for the todo item to not harm the existing one\n        updatedTodoItem.completedOn = new Date(); // set the completed date as current // TODO: may need the UTC conversion\n        updatedTodoItem.isCompleted = true;\n        this.editTodoItem.next(updatedTodoItem); // call the edit todo performer callback \n      });\n    }\n\n    openResetCompleteTodoModal(content, todoItem) {\n      this._modalService.open(content, {\n        ariaLabelledBy: 'modal-basic-title'\n      }).result.then(() => {\n        let updatedTodoItem = JSON.parse(JSON.stringify(todoItem)); // creating the deep copy for the todo item to not harm the existing one\n        updatedTodoItem.completedOn = null;\n        updatedTodoItem.isCompleted = false;\n        this.editTodoItem.next(updatedTodoItem); // call the edit todo performer callback \n      });\n    }\n\n    openEditTodoModal(todoItem) {\n      this.editSelectedTodo = JSON.parse(JSON.stringify(todoItem)); // sending the deep copy to edit modal to not see dynamic updates on UI\n      this.openAddEditModal.next(this.editSelectedTodo); // open edit modal and fill the values\n    }\n    static #_ = this.ɵfac = function TodoItemComponent_Factory(t) {\n      return new (t || TodoItemComponent)(i0.ɵɵdirectiveInject(i1.NgbModal));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TodoItemComponent,\n      selectors: [[\"app-todo-item\"]],\n      inputs: {\n        todoItem: \"todoItem\",\n        todoCategories: \"todoCategories\"\n      },\n      outputs: {\n        deleteTodoItem: \"deleteTodoItem\",\n        editTodoItem: \"editTodoItem\"\n      },\n      decls: 26,\n      vars: 13,\n      consts: [[1, \"container\", \"todo-wrap\"], [1, \"row\", 3, \"ngClass\", \"hidden\"], [1, \"col-md-3\", \"text-center\", \"text-md-start\"], [1, \"col-md\", \"col-sm-12\", \"text-md-start\", \"text-center\"], [1, \"col-md-2\", \"col-sm-4\", \"text-center\"], [1, \"col-md-1\", \"col-sm-4\", \"text-center\"], [4, \"ngIf\"], [1, \"d-flex\", \"flex-row-reverse\", \"justify-content-center\", \"mb-3\", \"align-content-center\"], [1, \"p-1\", \"btn\", \"btn-link\", 3, \"click\"], [\"role\", \"button\", 1, \"bi\", \"bi-x-lg\"], [1, \"p-1\", \"btn\", \"btn-link\"], [\"role\", \"button\", 1, \"bi\", \"bi-pencil-square\", 3, \"click\"], [\"class\", \"p-1 btn btn-link\", 3, \"click\", 4, \"ngIf\"], [\"deleteConfirmation\", \"\"], [\"completeConfirmation\", \"\"], [\"resetCompleteConfirmation\", \"\"], [3, \"todoCategories\", \"openModal\", \"onCompleteAction\", \"isCategorySelected\"], [1, \"bi\", \"bi-check2-all\", \"text-light\", 3, \"title\"], [\"title\", \"Active\", 1, \"bi\", \"bi-hourglass\", \"text-info\"], [\"role\", \"button\", 1, \"bi\", \"bi-check-circle\"], [1, \"bi\", \"bi-arrow-counterclockwise\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-dark\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-dark\", 3, \"click\"]],\n      template: function TodoItemComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r29 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3);\n          i0.ɵɵtext(5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 4);\n          i0.ɵɵtext(7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 5);\n          i0.ɵɵtemplate(9, TodoItemComponent_ng_container_9_Template, 3, 4, \"ng-container\", 6);\n          i0.ɵɵtemplate(10, TodoItemComponent_ng_container_10_Template, 2, 0, \"ng-container\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"div\", 5)(12, \"div\", 7)(13, \"button\", 8);\n          i0.ɵɵlistener(\"click\", function TodoItemComponent_Template_button_click_13_listener() {\n            i0.ɵɵrestoreView(_r29);\n            const _r4 = i0.ɵɵreference(20);\n            return i0.ɵɵresetView(ctx.openDeleteTodoModal(_r4, ctx.todoItem.id));\n          });\n          i0.ɵɵelement(14, \"i\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"button\", 10)(16, \"i\", 11);\n          i0.ɵɵlistener(\"click\", function TodoItemComponent_Template_i_click_16_listener() {\n            return ctx.openEditTodoModal(ctx.todoItem);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(17, TodoItemComponent_button_17_Template, 2, 0, \"button\", 12);\n          i0.ɵɵtemplate(18, TodoItemComponent_button_18_Template, 2, 0, \"button\", 12);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(19, TodoItemComponent_ng_template_19_Template, 11, 0, \"ng-template\", null, 13, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵtemplate(21, TodoItemComponent_ng_template_21_Template, 11, 0, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵtemplate(23, TodoItemComponent_ng_template_23_Template, 11, 0, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementStart(25, \"app-add-edit-todo\", 16);\n          i0.ɵɵlistener(\"onCompleteAction\", function TodoItemComponent_Template_app_add_edit_todo_onCompleteAction_25_listener($event) {\n            return ctx.editTodoItem.next($event);\n          })(\"isCategorySelected\", function TodoItemComponent_Template_app_add_edit_todo_isCategorySelected_25_listener($event) {\n            return ctx.isCategorySelected($event);\n          });\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c0, ctx.todoItem.isCompleted))(\"hidden\", ctx.todoItem.isHidden);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.todoItem.label);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.todoItem.description);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.todoItem.category);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.todoItem.isCompleted);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.todoItem.isCompleted);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", !ctx.todoItem.isCompleted);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.todoItem.isCompleted);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"todoCategories\", ctx.todoCategories)(\"openModal\", ctx.openAddEditModal);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgIf, i3.AddEditTodoComponent, i2.DatePipe],\n      styles: [\"[_nghost-%COMP%]{--todo-item-container-row-margin: 22px 0;--todo-item-container-row-border: 1px solid #0a5bc4;--todo-item-container-row-padding: 10px;--todo-item-container-row-completed-background-color: #7baf7b;--todo-item-container-row-completed-border: 1px solid #015801;--todo-item-container-row-completed-color: white}[_nghost-%COMP%]   .todo-wrap[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:var(--todo-item-container-row-margin);border:var(--todo-item-container-row-border);padding:var(--todo-item-container-row-padding)}[_nghost-%COMP%]   .todo-wrap[_ngcontent-%COMP%]   .row.completed[_ngcontent-%COMP%]{background-color:var(--todo-item-container-row-completed-background-color);border:var(--todo-item-container-row-completed-border);color:var(--todo-item-container-row-completed-color)}\"]\n    });\n  }\n  return TodoItemComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}